var m=angular.module("ui.timepicker",[]);m.value("uiTimepickerConfig",{step:15}),m.directive("uiTimepicker",["uiTimepickerConfig","$parse","$window",function(a,b,c){var d=c.moment,e=function(a){return void 0!==d&&d.isMoment(a)&&a.isValid()},f=function(a){return null!==a&&(angular.isDate(a)||e(a))};return{restrict:"A",require:"ngModel",scope:{ngModel:"=",baseDate:"=",uiTimepicker:"=",timeZone:"="},priority:1,link:function(b,c,g,h){"use strict";var i=angular.copy(a),j=i.asMoment||!1;delete i.asMoment;var k=b.timeZone;h.$render=function(){var a=h.$modelValue;if(angular.isDefined(a)){if(null!==a&&""!==a&&!f(a))throw new Error("ng-Model value must be a Date or Moment object - currently it is a "+typeof a+".");e(a)&&(a=a.toDate(),k&&(a=new Date(a.toLocaleString("en-US",{timeZone:k,month:"short",weekday:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",sec:"2-digit"}))),console.log("Date: ",a)),c.is(":focus")||n()||c.timepicker("setTime",a),null===a&&l()}},b.$watch("ngModel",function(){h.$render()},!0),b.$watch("uiTimepicker",function(){c.timepicker("option",angular.extend(i,b.uiTimepicker?b.uiTimepicker:{})),h.$render()},!0),i.appendTo=i.appendTo||c.parent(),c.timepicker(angular.extend(i,b.uiTimepicker?b.uiTimepicker:{}));var l=function(){c.timepicker("setTime",null)},m=function(){return c.val().trim()},n=function(){return m()&&null===h.$modelValue};c.on("$destroy",function(){c.timepicker("remove")});var o=function(){var a=h.$modelValue?h.$modelValue:b.baseDate;return e(a)?a.toDate():a},p=function(a){return j?d(a):a};c.is("input")?(h.$parsers.unshift(function(a){var b=c.timepicker("getTime",o());return b?p(b):b}),h.$validators.time=function(a){return g.required||m()?f(a):!0}):c.on("changeTime",function(){b.$evalAsync(function(){var a=c.timepicker("getTime",o());h.$setViewValue(a)})})}}}]);